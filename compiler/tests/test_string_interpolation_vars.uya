extern printf(fmt: *byte, ...) i32;

fn main() i32 {
    // 测试运行时变量的字符串插值
    
    // 整数变量（使用 var 因为后面会修改）
    var x: i32 = 42;
    var y: u32 = 255;
    const z: i32 = -1000;  // 使用 const 因为不会修改
    
    // 浮点数变量
    const pi: f64 = 3.14159;
    const e: f32 = 2.71828;
    
    // 基本插值（无格式说明符）- 运行时变量
    const msg1: [i8; 32] = "x=${x}, y=${y}\n";
    printf(&msg1[0]);
    
    // 十六进制格式 - 运行时变量
    const msg2: [i8; 32] = "y in hex: ${y:#06x}\n";
    printf(&msg2[0]);
    
    // 有符号整数 - 编译期常量
    const msg3: [i8; 32] = "z=${z}\n";
    printf(&msg3[0]);
    
    // 浮点数格式化 - 编译期常量
    const msg4: [i8; 32] = "pi=${pi:.2f}, e=${e:.3f}\n";
    printf(&msg4[0]);
    
    // 多个插值 - 混合运行时变量和编译期常量
    const msg5: [i8; 64] = "x=${x}, y=${y}, z=${z}, pi=${pi:.2f}\n";
    printf(&msg5[0]);
    
    // 混合编译期常量和运行时变量
    const msg6: [i8; 32] = "x=${x}, const=${100}, y=${y}\n";
    printf(&msg6[0]);
    
    // 修改变量后再次插值
    x = 100;
    y = 500;
    const msg7: [i8; 32] = "updated: x=${x}, y=${y:#x}\n";
    printf(&msg7[0]);
    
    return 0;
}

