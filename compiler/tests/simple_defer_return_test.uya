// 简单的 defer 和 return 顺序测试程序

// 测试 defer 与 return 的顺序
fn main() i32 {
    // 不使用 extern 声明，直接测试 defer 和 return
    // 我们将通过变量的值来验证 defer 是否被执行
    
    // 使用全局变量来模拟输出
    const result: i32 = 0;
    
    defer {
        // 这个 defer 块应该在 return 之前执行
        result = 42;
    }
    
    // 正常返回，但 defer 块应该在返回之前执行
    return result;  // 预期结果：42，因为 defer 块会修改 result 的值
}