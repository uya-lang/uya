// 深层嵌套while循环测试
// 测试3层嵌套的while循环

fn main() i32 {
    var sum: i32 = 0;
    var i: i32 = 0;
    
    while i < 2 {
        var j: i32 = 0;
        while j < 2 {
            var k: i32 = 0;
            while k < 2 {
                sum = sum + 1;
                k = k + 1;
            }
            j = j + 1;
        }
        i = i + 1;
    }
    
    // 2 * 2 * 2 = 8
    if sum != 8 {
        return 1;
    }
    
    // 测试带条件的嵌套循环
    var product: i32 = 1;
    var x: i32 = 1;
    
    while x <= 3 {
        var y: i32 = 1;
        while y <= 2 {
            var z: i32 = 1;
            while z <= 2 {
                product = product * 2;
                z = z + 1;
            }
            y = y + 1;
        }
        x = x + 1;
    }
    
    // 3 * 2 * 2 = 12 次循环，每次乘以2
    // 2^12 = 4096
    if product != 4096 {
        return 2;
    }
    
    return 0;
}

