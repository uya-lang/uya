// 切片类型与语法测试：&[T]、&[T: N]、base[start:len]、@len(slice)、slice[i]
// 返回 0 表示通过

fn main() i32 {
    var arr: [i32: 10] = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

    // 动态长度切片
    const s: &[i32] = arr[0:5];
    if @len(s) != 5 {
        return 1;
    }
    if s[0] != 1 || s[4] != 5 {
        return 2;
    }

    // 已知长度切片
    const t: &[i32: 3] = arr[2:3];
    if @len(t) != 3 {
        return 3;
    }
    if t[0] != 3 || t[2] != 5 {
        return 4;
    }

    // 切片索引与修改（通过原数组）
    arr[3] = 99;
    const u: &[i32] = arr[1:4];
    if u[0] != 2 || u[2] != 99 {
        return 5;
    }

    // 从切片再切片
    const v: &[i32] = s[1:2];
    if @len(v) != 2 {
        return 6;
    }
    if v[0] != 2 || v[1] != 3 {
        return 7;
    }

    return 0;
}
