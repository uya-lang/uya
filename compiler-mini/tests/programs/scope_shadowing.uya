// 变量遮蔽测试
// 测试不同作用域的同名变量（作用域嵌套）

fn main() i32 {
    const x: i32 = 10;
    
    if true {
        const x: i32 = 20;  // 遮蔽外层x
        if true {
            const x: i32 = 30;  // 遮蔽中层x
            if x == 30 {
                // 内层x应该是30
                var y: i32 = x;
                if y != 30 {
                    return 1;
                }
            }
        }
        if x == 20 {
            // 中层x应该是20
            var y: i32 = x;
            if y != 20 {
                return 1;
            }
        }
    }
    
    if x == 10 {
        // 外层x应该是10
        return 0;
    }
    return 1;
}

