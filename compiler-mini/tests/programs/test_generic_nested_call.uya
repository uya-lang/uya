// 测试泛型函数 - 嵌套调用

// 基本泛型函数
fn identity<T>(x: T) T {
    return x;
}

// 返回泛型值的函数
fn double_i32(x: i32) i32 {
    return x * 2;
}

fn main() i32 {
    // 测试泛型函数嵌套调用
    const x: i32 = identity<i32>(identity<i32>(42));
    if x != 42 {
        return 1;
    }
    
    // 测试泛型函数与普通函数嵌套
    const y: i32 = identity<i32>(double_i32(10));
    if y != 20 {
        return 2;
    }
    
    // 测试深层嵌套
    const z: i32 = identity<i32>(identity<i32>(identity<i32>(100)));
    if z != 100 {
        return 3;
    }
    
    return 0;
}

