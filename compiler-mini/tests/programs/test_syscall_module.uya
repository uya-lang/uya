// test_syscall_module.uya
// 测试多个使用 @syscall 的函数（确保不会重复定义 err_union 结构体）

const SYS_write: i64 = 1;
const SYS_getpid: i64 = 39;

fn sys_write(fd: i64, buf: i64, count: i64) !i64 {
    const result: !i64 = @syscall(SYS_write, fd, buf, count);
    return result;
}

fn sys_getpid() !i64 {
    const result: !i64 = @syscall(SYS_getpid);
    return result;
}

fn main() i32 {
    const msg: *byte = "Test!\n";
    _ = sys_write(1, msg as i64, 6) catch {
        return 1;
    };
    
    _ = sys_getpid() catch {
        return 2;
    };
    
    return 0;
}

