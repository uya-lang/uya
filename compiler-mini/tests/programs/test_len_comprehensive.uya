fn main() i32 {
    // 测试 1: 基础数组长度
    var arr1: [i32: 3] = [1, 2, 3];
    const len1: i32 = len(arr1);
    if len1 != 3 {
        return 1;
    }
    
    // 测试 2: 不同类型数组
    var arr2: [byte: 10] = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
    const len2: i32 = len(arr2);
    if len2 != 10 {
        return 2;
    }
    
    // 测试 3: 单元素数组
    var arr3: [i32: 1] = [42];
    const len3: i32 = len(arr3);
    if len3 != 1 {
        return 3;
    }
    
    // 测试 4: 大数组（空数组字面量表示未初始化）
    var arr4: [i32: 100] = [];
    const len4: i32 = len(arr4);
    if len4 != 100 {
        return 4;
    }
    
    // 测试 5: 在表达式中使用 len
    var arr5: [i32: 5] = [1, 2, 3, 4, 5];
    var sum: i32 = 0;
    var i: i32 = 0;
    while i < len(arr5) {
        sum = sum + arr5[i];
        i = i + 1;
    }
    if sum != 15 {
        return 5;
    }
    
    // 测试 6: len 与 sizeof 的区别
    var arr6: [i32: 4] = [1, 2, 3, 4];
    const size6: i32 = sizeof(arr6);  // 应该是 16 (4 * 4 字节)
    const len6: i32 = len(arr6);      // 应该是 4 (元素个数)
    if size6 != 16 || len6 != 4 {
        return 6;
    }
    
    // 测试 7: const 数组
    const arr7: [i32: 7] = [1, 2, 3, 4, 5, 6, 7];
    const len7: i32 = len(arr7);
    if len7 != 7 {
        return 7;
    }
    
    // 测试 8: 在条件表达式中使用（空数组长度检查）
    // 注意：Uya Mini 不支持长度为 0 的数组，所以跳过这个测试
    // 测试在条件中使用 len
    var arr8: [i32: 2] = [1, 2];
    const len8: i32 = len(arr8);
    if len8 != 2 {
        return 8;
    }
    if len(arr8) != 2 {
        return 9;
    }
    
    return 0;
}

