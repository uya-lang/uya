// byte 类型测试程序
// 测试 byte 类型的基本功能：变量声明、sizeof、指针等

fn main() i32 {
    // 测试1：byte 类型常量声明
    const byte_const: byte = 0;
    if byte_const != 0 {
        return 1;  // 常量值应该是 0
    }
    
    const byte_const2: byte = 255;
    if byte_const2 != 255 {
        return 2;  // 常量值应该是 255
    }
    
    // 测试2：byte 类型变量声明和赋值
    var byte_var: byte = 42;
    if byte_var != 42 {
        return 3;  // 变量值应该是 42
    }
    
    byte_var = 100;
    if byte_var != 100 {
        return 4;  // 变量值应该被修改为 100
    }
    
    // 测试3：sizeof(byte) 类型大小
    const byte_size: i32 = sizeof(byte);
    if byte_size != 1 {
        return 5;  // byte 应该是 1 字节
    }
    
    // 测试4：sizeof(byte 变量) 变量大小
    const byte_var_size: i32 = sizeof(byte_var);
    if byte_var_size != 1 {
        return 6;  // byte 变量应该是 1 字节
    }
    
    // 测试5：byte 指针类型大小
    const ptr_byte_size: i32 = sizeof(&byte);
    if ptr_byte_size != 8 {
        return 7;  // byte 指针应该是 8 字节（64位平台）
    }
    
    // 测试6：byte 指针变量声明和初始化
    var byte_ptr: &byte = &byte_var;
    if byte_ptr == null {
        return 8;  // 指针不应该是 null
    }
    
    // 测试7：通过指针读取 byte 值
    const byte_val: byte = *byte_ptr;
    if byte_val != 100 {
        return 9;  // 通过指针读取的值应该是 100
    }
    
    // 测试8：通过指针修改 byte 值
    *byte_ptr = 200;
    if byte_var != 200 {
        return 10;  // 通过指针修改后，变量值应该是 200
    }
    
    // 测试9：byte 指针变量大小
    const byte_ptr_var_size: i32 = sizeof(byte_ptr);
    if byte_ptr_var_size != 8 {
        return 11;  // byte 指针变量应该是 8 字节
    }
    
    // 测试10：null 指针初始化
    var null_byte_ptr: &byte = null;
    if null_byte_ptr != null {
        return 12;  // null_byte_ptr 应该是 null
    }
    
    // 测试11：指针比较
    var byte_var2: byte = 50;
    var byte_ptr2: &byte = &byte_var2;
    if byte_ptr == byte_ptr2 {
        return 13;  // 两个指针不应该相等（指向不同变量）
    }
    
    var byte_ptr3: &byte = &byte_var;
    if byte_ptr != byte_ptr3 {
        return 14;  // byte_ptr 和 byte_ptr3 应该相等（指向同一个变量）
    }
    
    // 所有测试通过
    return 0;
}
