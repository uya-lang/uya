// 嵌套if和while混合测试
// 测试if和while的混合嵌套

fn main() i32 {
    var count: i32 = 0;
    var i: i32 = 0;
    
    while i < 5 {
        if i % 2 == 0 {
            var j: i32 = 0;
            while j < 2 {
                if j == 0 {
                    count = count + 1;
                } else {
                    count = count + 2;
                }
                j = j + 1;
            }
        } else {
            if i == 3 {
                count = count + 10;
            } else {
                count = count + 5;
            }
        }
        i = i + 1;
    }
    
    // i=0: even, count += (1+2) = 3
    // i=1: odd, count += 5 = 5
    // i=2: even, count += (1+2) = 3
    // i=3: odd, count += 10 = 10
    // i=4: even, count += (1+2) = 3
    // 总计: 3 + 5 + 3 + 10 + 3 = 24
    if count != 24 {
        return 1;
    }
    
    // 测试while内部嵌套if，if内部嵌套while
    var sum: i32 = 0;
    var x: i32 = 0;
    
    while x < 3 {
        if x > 0 {
            var y: i32 = 0;
            while y < x {
                sum = sum + y;
                y = y + 1;
            }
        }
        x = x + 1;
    }
    
    // x=0: skip
    // x=1: y=0, sum += 0 = 0
    // x=2: y=0,1, sum += (0+1) = 1
    // 总计: 0 + 0 + 1 = 1
    if sum != 1 {
        return 2;
    }
    
    return 0;
}

