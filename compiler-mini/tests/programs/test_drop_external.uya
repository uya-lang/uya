// 测试 drop/RAII：drop 在结构体外（方法块）定义（规范 §12）
// 预期：main 返回 0（离开作用域时 drop 被调用一次）

var drop_count: i32 = 0;

struct S {
  id: i32
}

S {
  fn drop(self: S) void {
    drop_count = drop_count + 1;
  }
}

fn main() i32 {
  {
    const s: S = S{ id: 42 };
  }
  if drop_count != 1 {
    return 1;
  }
  return 0;
}
