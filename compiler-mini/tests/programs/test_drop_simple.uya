// 测试 drop/RAII：结构体定义 fn drop(self: T) void，作用域结束时自动调用（规范 §12）
// 预期：main 返回 0（drop 被调用一次）

var drop_count: i32 = 0;

struct S {
  id: i32,
  fn drop(self: S) void {
    drop_count = drop_count + 1;
  }
}

fn main() i32 {
  {
    const s: S = S{ id: 42 };
  }
  if drop_count != 1 {
    return 1;
  }
  return 0;
}
