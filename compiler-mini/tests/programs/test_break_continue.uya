// 测试 break 和 continue 语句

fn main() i32 {
    var sum: i32 = 0;
    var count: i32 = 0;
    
    // 测试 while 循环中的 break
    while count < 10 {
        count = count + 1;
        sum = sum + count;
        
        if count == 5 {
            break;  // 在 count == 5 时跳出循环
        }
    }
    
    // 此时 sum 应该是 1+2+3+4+5 = 15
    if sum != 15 {
        return 1;  // 测试失败
    }
    
    // 测试 while 循环中的 continue
    var sum2: i32 = 0;
    var count2: i32 = 0;
    
    while count2 < 10 {
        count2 = count2 + 1;
        
        if count2 == 5 {
            continue;  // 跳过 count2 == 5 的情况
        }
        
        sum2 = sum2 + count2;
    }
    
    // 此时 sum2 应该是 1+2+3+4+6+7+8+9+10 = 50（跳过 5）
    if sum2 != 50 {
        return 2;  // 测试失败
    }
    
    // 测试嵌套循环中的 break（break 跳出最近的循环）
    var outer_count: i32 = 0;
    var inner_count: i32 = 0;
    
    while outer_count < 5 {
        outer_count = outer_count + 1;
        inner_count = 0;
        
        while inner_count < 10 {
            inner_count = inner_count + 1;
            
            if inner_count == 3 {
                break;  // 跳出内层循环
            }
        }
        
        // 内层循环应该执行了 3 次（inner_count == 1, 2, 3）
        if inner_count != 3 {
            return 3;  // 测试失败
        }
    }
    
    // 测试嵌套循环中的 continue（continue 跳过最近的循环的当前迭代）
    var sum3: i32 = 0;
    var i: i32 = 0;
    
    while i < 5 {
        i = i + 1;
        
        if i == 3 {
            continue;  // 跳过 i == 3 的情况
        }
        
        var j: i32 = 0;
        while j < 3 {
            j = j + 1;
            sum3 = sum3 + i;
        }
    }
    
    // sum3 应该是 (1*3) + (2*3) + (4*3) + (5*3) = 3 + 6 + 12 + 15 = 36（跳过 i == 3）
    if sum3 != 36 {
        return 4;  // 测试失败
    }
    
    return 0;  // 所有测试通过
}

