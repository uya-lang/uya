// 测试可变参数函数支持
// 验证解析、类型检查、代码生成是否正确处理可变参数函数

// 测试1：基础可变参数函数声明（类似 printf）
extern fn printf(fmt: *byte, ...) i32;

// 测试2：多个固定参数 + 可变参数（类似 sprintf）
extern fn sprintf(buf: *byte, fmt: *byte, ...) i32;

// 测试函数：验证可变参数函数调用
fn main() i32 {
    // 测试1：调用 printf（1个固定参数，0个可变参数）
    // 注意：可变参数函数调用必须提供至少等于固定参数数量的参数
    const result1: i32 = printf("hello\n");
    
    // 测试2：调用 printf（1个固定参数，多个可变参数）
    // 注意：在实际运行时，printf 会解析格式字符串并打印
    const result2: i32 = printf("value: %d\n", 42);
    
    // 如果编译器能够成功编译（解析、类型检查、代码生成），说明可变参数支持已实现
    // 如果程序能够运行并打印输出，说明可变参数函数调用正确生成
    // 返回 0 表示测试通过
    return 0;
}

