# C ç‰ˆæœ¬ä»£ç é‡æ–°ç¿»è¯‘åˆ°è‡ªä¸¾ç‰ˆæœ¬ TODO

> **é‡è¦æç¤ºï¼š** åœ¨å¼€å§‹ç¿»è¯‘ä¹‹å‰ï¼Œ**å¿…é¡»å…ˆé˜…è¯» `spec/UYA_MINI_SPEC.md` è¯­æ³•è§„èŒƒ**ï¼Œäº†è§£ Uya Mini çš„å®Œæ•´è¯­æ³•ã€ç±»å‹ç³»ç»Ÿå’Œè¯­ä¹‰è§„åˆ™ã€‚

---

## ğŸ“š ç¿»è¯‘å‰å‡†å¤‡

### 1. é˜…è¯»è¯­æ³•è§„èŒƒï¼ˆå¿…é¡»ï¼‰

**æ–‡ä»¶è·¯å¾„ï¼š** `compiler-mini/spec/UYA_MINI_SPEC.md`

**é‡ç‚¹å…³æ³¨ç« èŠ‚ï¼š**
- ç±»å‹ç³»ç»Ÿï¼ˆåŸºæœ¬ç±»å‹ã€æŒ‡é’ˆã€æ•°ç»„ã€ç»“æ„ä½“ã€æšä¸¾ï¼‰
- è¡¨è¾¾å¼ç±»å‹æ¨æ–­è§„åˆ™
- ç±»å‹è½¬æ¢è§„åˆ™
- å˜é‡å£°æ˜å’Œåˆå§‹åŒ–è§„åˆ™
- å‡½æ•°å£°æ˜å’Œè°ƒç”¨è§„åˆ™
- æ§åˆ¶æµè¯­å¥è§„åˆ™

### 2. ç†è§£ç¿»è¯‘åŸåˆ™

1. **å®Œå…¨æŒ‰ç…§ C ç‰ˆæœ¬é€»è¾‘ç¿»è¯‘**ï¼šä¿æŒä¸ C ç‰ˆæœ¬å®Œå…¨ä¸€è‡´çš„è¡Œä¸º
2. **æ’é™¤ C99 ç›¸å…³ä»£ç **ï¼šä¸ç¿»è¯‘ `codegen/c99/` ç›®å½•ä¸‹çš„ä»£ç 
3. **ä¿æŒå‡½æ•°ç­¾åä¸€è‡´**ï¼šå‡½æ•°åã€å‚æ•°ã€è¿”å›å€¼ç±»å‹å¿…é¡»ä¸€è‡´
4. **ä¿æŒé”™è¯¯å¤„ç†é€»è¾‘ä¸€è‡´**ï¼šé”™è¯¯æŠ¥å‘Šã€æ”¾å®½æ£€æŸ¥çš„é€»è¾‘å¿…é¡»ä¸€è‡´
5. **æ³¨æ„ç±»å‹ç³»ç»Ÿå·®å¼‚**ï¼š
   - C ç‰ˆæœ¬ä½¿ç”¨ `union`ï¼ŒUya ç‰ˆæœ¬ä½¿ç”¨ç»“æ„ä½“åŒ…å«æ‰€æœ‰å­—æ®µ
   - C ç‰ˆæœ¬ä½¿ç”¨ `->` è®¿é—®æŒ‡é’ˆæˆå‘˜ï¼ŒUya ç‰ˆæœ¬ä½¿ç”¨ `.` è®¿é—®
   - C ç‰ˆæœ¬ä½¿ç”¨ `*` è§£å¼•ç”¨ï¼ŒUya ç‰ˆæœ¬ç›´æ¥è®¿é—®
   - **âš ï¸ Uya ä¸æ”¯æŒæŒ‡é’ˆè¿ç®—**ï¼šå¿…é¡»å°† `ptr + i` è½¬æ¢ä¸º `&ptr[i]`
   - **âš ï¸ Uya ä¸æ”¯æŒå‡½æ•°å‰å‘å£°æ˜**ï¼šå¿…é¡»é‡æ–°ç»„ç»‡å‡½æ•°é¡ºåºæˆ–ä½¿ç”¨å‡½æ•°è¡¨æœºåˆ¶

### 3. ç¿»è¯‘æ£€æŸ¥æ¸…å•

å¯¹äºæ¯ä¸ªå‡½æ•°ï¼Œæ£€æŸ¥ï¼š
- [ ] å‡½æ•°ç­¾åæ˜¯å¦ä¸€è‡´ï¼ˆå‚æ•°ç±»å‹ã€è¿”å›å€¼ç±»å‹ï¼‰
- [ ] é€»è¾‘æµç¨‹æ˜¯å¦ä¸€è‡´
- [ ] é”™è¯¯å¤„ç†æ˜¯å¦ä¸€è‡´
- [ ] æ”¾å®½æ£€æŸ¥çš„é€»è¾‘æ˜¯å¦ä¸€è‡´
- [ ] ç±»å‹æ¨æ–­é€»è¾‘æ˜¯å¦ä¸€è‡´
- [ ] ç¬¦å·è¡¨æ“ä½œæ˜¯å¦ä¸€è‡´
- [ ] å‡½æ•°è¡¨æ“ä½œæ˜¯å¦ä¸€è‡´

---

## ğŸ“‹ éœ€è¦ç¿»è¯‘çš„æ–‡ä»¶åˆ—è¡¨

### æ ¸å¿ƒæ¨¡å—ï¼ˆä¼˜å…ˆçº§ï¼šP0ï¼‰

#### 1. `src/checker.c` â†’ `uya-src/checker.uya`
**çŠ¶æ€ï¼š** âš ï¸ éƒ¨åˆ†å®Œæˆï¼ˆéœ€è¦é‡æ–°æ£€æŸ¥ï¼‰
**ä¼˜å…ˆçº§ï¼š** P0ï¼ˆæœ€é«˜ï¼‰
**è¯´æ˜ï¼š** ç±»å‹æ£€æŸ¥å™¨æ ¸å¿ƒæ¨¡å—ï¼Œå½“å‰å­˜åœ¨ `array_access` ç­‰æµ‹è¯•å¤±è´¥é—®é¢˜

**éœ€è¦æ£€æŸ¥çš„å‡½æ•°ï¼ˆæŒ‰è°ƒç”¨é¡ºåºï¼‰ï¼š**

**å…¬å…±æ¥å£å‡½æ•°ï¼š**
- [ ] `checker_init` - åˆå§‹åŒ– TypeChecker
- [ ] `checker_get_error_count` - è·å–é”™è¯¯è®¡æ•°
- [ ] `checker_check` - ç±»å‹æ£€æŸ¥ä¸»å‡½æ•°ï¼ˆä¸¤éæ£€æŸ¥ï¼‰

**é”™è¯¯æŠ¥å‘Šï¼š**
- [ ] `checker_report_error` - æŠ¥å‘Šç±»å‹æ£€æŸ¥é”™è¯¯

**ç±»å‹ç³»ç»Ÿæ ¸å¿ƒå‡½æ•°ï¼š**
- [ ] `type_from_ast` - ä» AST ç±»å‹èŠ‚ç‚¹åˆ›å»º Type ç»“æ„
- [ ] `type_equals` - æ¯”è¾ƒä¸¤ä¸ªç±»å‹æ˜¯å¦ç›¸ç­‰
- [ ] `type_can_implicitly_convert` - æ£€æŸ¥ç±»å‹æ˜¯å¦å¯ä»¥éšå¼è½¬æ¢

**ç±»å‹æ¨æ–­ï¼š**
- [ ] `checker_infer_type` - æ¨æ–­è¡¨è¾¾å¼çš„ç±»å‹ï¼ˆæ ¸å¿ƒå‡½æ•°ï¼‰

**ç¬¦å·è¡¨å’Œå‡½æ•°è¡¨ï¼š**
- [ ] `hash_string` - å­—ç¬¦ä¸²å“ˆå¸Œå‡½æ•°
- [ ] `symbol_table_lookup` - åœ¨ç¬¦å·è¡¨ä¸­æŸ¥æ‰¾ç¬¦å·
- [ ] `symbol_table_insert` - å‘ç¬¦å·è¡¨æ’å…¥ç¬¦å·
- [ ] `function_table_lookup` - åœ¨å‡½æ•°è¡¨ä¸­æŸ¥æ‰¾å‡½æ•°ç­¾å
- [ ] `function_table_insert` - å‘å‡½æ•°è¡¨æ’å…¥å‡½æ•°ç­¾å

**ä½œç”¨åŸŸç®¡ç†ï¼š**
- [ ] `checker_enter_scope` - è¿›å…¥æ–°çš„ä½œç”¨åŸŸ
- [ ] `checker_exit_scope` - é€€å‡ºå½“å‰ä½œç”¨åŸŸ

**AST èŠ‚ç‚¹æŸ¥æ‰¾ï¼š**
- [ ] `find_struct_decl_from_program` - åœ¨ç¨‹åºèŠ‚ç‚¹ä¸­æŸ¥æ‰¾ç»“æ„ä½“å£°æ˜
- [ ] `find_enum_decl_from_program` - åœ¨ç¨‹åºèŠ‚ç‚¹ä¸­æŸ¥æ‰¾æšä¸¾å£°æ˜
- [ ] `find_struct_field_type` - æŸ¥æ‰¾ç»“æ„ä½“å­—æ®µçš„ç±»å‹

**ç±»å‹æ£€æŸ¥å‡½æ•°ï¼ˆæŒ‰è°ƒç”¨é¡ºåºï¼‰ï¼š**
- [ ] `checker_check_node` - æ£€æŸ¥ AST èŠ‚ç‚¹ï¼ˆä¸»å…¥å£ï¼Œé€’å½’è°ƒç”¨å…¶ä»–æ£€æŸ¥å‡½æ•°ï¼‰
- [ ] `checker_register_fn_decl` - æ³¨å†Œå‡½æ•°å£°æ˜ï¼ˆç¬¬ä¸€éæ£€æŸ¥ï¼‰
- [ ] `checker_check_fn_decl` - æ£€æŸ¥å‡½æ•°å£°æ˜ï¼ˆç¬¬äºŒéæ£€æŸ¥ï¼‰
- [ ] `checker_check_var_decl` - æ£€æŸ¥å˜é‡å£°æ˜ï¼ˆå·²é‡å†™ï¼Œéœ€éªŒè¯ï¼‰
- [ ] `checker_check_struct_decl` - æ£€æŸ¥ç»“æ„ä½“å£°æ˜
- [ ] `checker_check_expr_type` - æ£€æŸ¥è¡¨è¾¾å¼ç±»å‹æ˜¯å¦åŒ¹é…é¢„æœŸç±»å‹
- [ ] `checker_check_array_access` - æ£€æŸ¥æ•°ç»„è®¿é—®è¡¨è¾¾å¼
- [ ] `checker_check_member_access` - æ£€æŸ¥æˆå‘˜è®¿é—®è¡¨è¾¾å¼
- [ ] `checker_check_call_expr` - æ£€æŸ¥å‡½æ•°è°ƒç”¨è¡¨è¾¾å¼
- [ ] `checker_check_binary_expr` - æ£€æŸ¥äºŒå…ƒè¡¨è¾¾å¼
- [ ] `checker_check_unary_expr` - æ£€æŸ¥ä¸€å…ƒè¡¨è¾¾å¼
- [ ] `checker_check_cast_expr` - æ£€æŸ¥ç±»å‹è½¬æ¢è¡¨è¾¾å¼
- [ ] `checker_check_struct_init` - æ£€æŸ¥ç»“æ„ä½“åˆå§‹åŒ–è¡¨è¾¾å¼
- [ ] `checker_check_alignof` - æ£€æŸ¥ alignof è¡¨è¾¾å¼
- [ ] `checker_check_len` - æ£€æŸ¥ len è¡¨è¾¾å¼

**å‚è€ƒæ–‡ä»¶ï¼š**
- C ç‰ˆæœ¬ï¼š`compiler-mini/src/checker.c`
- è‡ªä¸¾ç‰ˆæœ¬ï¼š`compiler-mini/uya-src/checker.uya`
- è¯­æ³•è§„èŒƒï¼š`compiler-mini/spec/UYA_MINI_SPEC.md`

#### 2. `src/parser.c` â†’ `uya-src/parser.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P0ï¼ˆæœ€é«˜ï¼‰
**è¯´æ˜ï¼š** è¯­æ³•åˆ†æå™¨ï¼Œè´Ÿè´£å°†è¯æ³•åˆ†æç»“æœè½¬æ¢ä¸º AST

**éœ€è¦æ£€æŸ¥çš„å‡½æ•°ï¼š**
- [ ] `parser_parse` - è§£æä¸»å‡½æ•°
- [ ] `parser_parse_program` - è§£æç¨‹åº
- [ ] `parser_parse_decl` - è§£æå£°æ˜
- [ ] `parser_parse_fn_decl` - è§£æå‡½æ•°å£°æ˜
- [ ] `parser_parse_struct_decl` - è§£æç»“æ„ä½“å£°æ˜
- [ ] `parser_parse_enum_decl` - è§£ææšä¸¾å£°æ˜
- [ ] `parser_parse_var_decl` - è§£æå˜é‡å£°æ˜
- [ ] `parser_parse_type` - è§£æç±»å‹
- [ ] `parser_parse_stmt` - è§£æè¯­å¥
- [ ] `parser_parse_expr` - è§£æè¡¨è¾¾å¼
- [ ] `parser_parse_binary_expr` - è§£æäºŒå…ƒè¡¨è¾¾å¼
- [ ] `parser_parse_unary_expr` - è§£æä¸€å…ƒè¡¨è¾¾å¼
- [ ] `parser_parse_call_expr` - è§£æå‡½æ•°è°ƒç”¨
- [ ] `parser_parse_array_literal` - è§£ææ•°ç»„å­—é¢é‡
- [ ] `parser_parse_struct_init` - è§£æç»“æ„ä½“åˆå§‹åŒ–
- [ ] å…¶ä»–è§£æå‡½æ•°...

**å‚è€ƒæ–‡ä»¶ï¼š**
- C ç‰ˆæœ¬ï¼š`compiler-mini/src/parser.c`
- è‡ªä¸¾ç‰ˆæœ¬ï¼š`compiler-mini/uya-src/parser.uya`

#### 3. `src/lexer.c` â†’ `uya-src/lexer.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P0ï¼ˆæœ€é«˜ï¼‰
**è¯´æ˜ï¼š** è¯æ³•åˆ†æå™¨ï¼Œè´Ÿè´£å°†æºä»£ç è½¬æ¢ä¸ºè¯æ³•å•å…ƒ

**éœ€è¦æ£€æŸ¥çš„å‡½æ•°ï¼š**
- [ ] `lexer_init` - åˆå§‹åŒ–è¯æ³•åˆ†æå™¨
- [ ] `lexer_next_token` - è·å–ä¸‹ä¸€ä¸ªè¯æ³•å•å…ƒ
- [ ] `lexer_peek_token` - é¢„è§ˆä¸‹ä¸€ä¸ªè¯æ³•å•å…ƒ
- [ ] `lexer_consume_token` - æ¶ˆè´¹è¯æ³•å•å…ƒ
- [ ] `lexer_read_string` - è¯»å–å­—ç¬¦ä¸²å­—é¢é‡
- [ ] `lexer_read_number` - è¯»å–æ•°å­—å­—é¢é‡
- [ ] `lexer_read_identifier` - è¯»å–æ ‡è¯†ç¬¦
- [ ] å…¶ä»–è¯æ³•åˆ†æå‡½æ•°...

**å‚è€ƒæ–‡ä»¶ï¼š**
- C ç‰ˆæœ¬ï¼š`compiler-mini/src/lexer.c`
- è‡ªä¸¾ç‰ˆæœ¬ï¼š`compiler-mini/uya-src/lexer.uya`

#### 4. `src/ast.c` â†’ `uya-src/ast.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P0ï¼ˆæœ€é«˜ï¼‰
**è¯´æ˜ï¼š** AST èŠ‚ç‚¹åˆ›å»ºå’Œæ“ä½œ

**éœ€è¦æ£€æŸ¥çš„å‡½æ•°ï¼š**
- [ ] `ast_new_node` - åˆ›å»ºæ–°èŠ‚ç‚¹
- [ ] `ast_merge_programs` - åˆå¹¶ç¨‹åºèŠ‚ç‚¹
- [ ] å…¶ä»– AST æ“ä½œå‡½æ•°...

**å‚è€ƒæ–‡ä»¶ï¼š**
- C ç‰ˆæœ¬ï¼š`compiler-mini/src/ast.c`
- è‡ªä¸¾ç‰ˆæœ¬ï¼š`compiler-mini/uya-src/ast.uya`

#### 5. `src/arena.c` â†’ `uya-src/arena.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P0ï¼ˆæœ€é«˜ï¼‰
**è¯´æ˜ï¼š** å†…å­˜åˆ†é…å™¨ï¼ˆArenaï¼‰

**éœ€è¦æ£€æŸ¥çš„å‡½æ•°ï¼š**
- [ ] `arena_init` - åˆå§‹åŒ– Arena
- [ ] `arena_alloc` - åˆ†é…å†…å­˜
- [ ] `arena_reset` - é‡ç½® Arena
- [ ] å…¶ä»– Arena æ“ä½œå‡½æ•°...

**å‚è€ƒæ–‡ä»¶ï¼š**
- C ç‰ˆæœ¬ï¼š`compiler-mini/src/arena.c`
- è‡ªä¸¾ç‰ˆæœ¬ï¼š`compiler-mini/uya-src/arena.uya`

#### 6. `src/main.c` â†’ `uya-src/main.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P0ï¼ˆæœ€é«˜ï¼‰
**è¯´æ˜ï¼š** ç¼–è¯‘å™¨ä¸»ç¨‹åº

**éœ€è¦æ£€æŸ¥çš„å‡½æ•°ï¼š**
- [ ] `main` - ä¸»å‡½æ•°
- [ ] å…¶ä»–ä¸»ç¨‹åºå‡½æ•°...

**å‚è€ƒæ–‡ä»¶ï¼š**
- C ç‰ˆæœ¬ï¼š`compiler-mini/src/main.c`
- è‡ªä¸¾ç‰ˆæœ¬ï¼š`compiler-mini/uya-src/main.uya`

### LLVM C API ä»£ç ç”Ÿæˆæ¨¡å—ï¼ˆä¼˜å…ˆçº§ï¼šP1ï¼‰

#### 7. `src/codegen/llvm_capi/main.c` â†’ `uya-src/codegen/llvm_capi/main.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P1
**è¯´æ˜ï¼š** LLVM ä»£ç ç”Ÿæˆä¸»å…¥å£

#### 8. `src/codegen/llvm_capi/init.c` â†’ `uya-src/codegen/llvm_capi/init.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P1
**è¯´æ˜ï¼š** LLVM åˆå§‹åŒ–

#### 9. `src/codegen/llvm_capi/function.c` â†’ `uya-src/codegen/llvm_capi/function.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P1
**è¯´æ˜ï¼š** å‡½æ•°ä»£ç ç”Ÿæˆ

#### 10. `src/codegen/llvm_capi/expr.c` â†’ `uya-src/codegen/llvm_capi/expr.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P1
**è¯´æ˜ï¼š** è¡¨è¾¾å¼ä»£ç ç”Ÿæˆ

#### 11. `src/codegen/llvm_capi/stmt.c` â†’ `uya-src/codegen/llvm_capi/stmt.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P1
**è¯´æ˜ï¼š** è¯­å¥ä»£ç ç”Ÿæˆ

#### 12. `src/codegen/llvm_capi/types.c` â†’ `uya-src/codegen/llvm_capi/types.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P1
**è¯´æ˜ï¼š** ç±»å‹ä»£ç ç”Ÿæˆ

#### 13. `src/codegen/llvm_capi/structs.c` â†’ `uya-src/codegen/llvm_capi/structs.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P1
**è¯´æ˜ï¼š** ç»“æ„ä½“ä»£ç ç”Ÿæˆ

#### 14. `src/codegen/llvm_capi/enums.c` â†’ `uya-src/codegen/llvm_capi/enums.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P1
**è¯´æ˜ï¼š** æšä¸¾ä»£ç ç”Ÿæˆ

#### 15. `src/codegen/llvm_capi/global.c` â†’ `uya-src/codegen/llvm_capi/global.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P1
**è¯´æ˜ï¼š** å…¨å±€å˜é‡ä»£ç ç”Ÿæˆ

#### 16. `src/codegen/llvm_capi/vars.c` â†’ `uya-src/codegen/llvm_capi/vars.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P1
**è¯´æ˜ï¼š** å˜é‡ä»£ç ç”Ÿæˆ

#### 17. `src/codegen/llvm_capi/funcs.c` â†’ `uya-src/codegen/llvm_capi/funcs.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P1
**è¯´æ˜ï¼š** å‡½æ•°ç›¸å…³è¾…åŠ©å‡½æ•°

#### 18. `src/codegen/llvm_capi/utils.c` â†’ `uya-src/codegen/llvm_capi/utils.uya`
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P1
**è¯´æ˜ï¼š** å·¥å…·å‡½æ•°

### è¾…åŠ©æ¨¡å—ï¼ˆä¼˜å…ˆçº§ï¼šP2ï¼‰

#### 19. `src/str_utils.c` â†’ `uya-src/str_utils.uya`ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
**çŠ¶æ€ï¼š** âš ï¸ éœ€è¦æ£€æŸ¥
**ä¼˜å…ˆçº§ï¼š** P2
**è¯´æ˜ï¼š** å­—ç¬¦ä¸²å·¥å…·å‡½æ•°

---

## ğŸ› ï¸ ç¿»è¯‘å·¥å…·ä½¿ç”¨è¯´æ˜

### ä½¿ç”¨ AI è¾…åŠ©ç¿»è¯‘

å½“ä½¿ç”¨ AIï¼ˆå¦‚ Cursorï¼‰è¿›è¡Œç¿»è¯‘æ—¶ï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. **æä¾›ä¸Šä¸‹æ–‡**ï¼š
   ```
   æˆ‘éœ€è¦å°† C ç‰ˆæœ¬çš„å‡½æ•°ç¿»è¯‘æˆ Uya ç‰ˆæœ¬ã€‚
   - C ç‰ˆæœ¬æ–‡ä»¶ï¼šcompiler-mini/src/checker.c
   - è‡ªä¸¾ç‰ˆæœ¬æ–‡ä»¶ï¼šcompiler-mini/uya-src/checker.uya
   - è¯­æ³•è§„èŒƒï¼šcompiler-mini/spec/UYA_MINI_SPEC.md
   - ç›®æ ‡å‡½æ•°ï¼šchecker_check_var_decl
   ```

2. **è¦æ±‚ AI å…ˆé˜…è¯»è§„èŒƒ**ï¼š
   ```
   è¯·å…ˆé˜…è¯» compiler-mini/spec/UYA_MINI_SPEC.md ä¸­çš„ç±»å‹ç³»ç»Ÿç« èŠ‚ï¼Œ
   ç„¶åå¯¹æ¯” C ç‰ˆæœ¬å’Œè‡ªä¸¾ç‰ˆæœ¬çš„ checker_check_var_decl å‡½æ•°ï¼Œ
   æŒ‰ç…§ C ç‰ˆæœ¬çš„é€»è¾‘é‡æ–°ç¿»è¯‘è‡ªä¸¾ç‰ˆæœ¬ã€‚
   ```

3. **æä¾›å¯¹æ¯”æŒ‡ä»¤**ï¼š
   ```
   è¯·å¯¹æ¯”ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°ï¼š
   - C ç‰ˆæœ¬ï¼šcompiler-mini/src/checker.c ä¸­çš„ checker_check_var_decl
   - è‡ªä¸¾ç‰ˆæœ¬ï¼šcompiler-mini/uya-src/checker.uya ä¸­çš„ checker_check_var_decl
   
   ç¡®ä¿ï¼š
   - å‡½æ•°ç­¾åä¸€è‡´
   - é€»è¾‘æµç¨‹ä¸€è‡´
   - é”™è¯¯å¤„ç†ä¸€è‡´
   - æ”¾å®½æ£€æŸ¥çš„é€»è¾‘ä¸€è‡´
   ```

### ç¿»è¯‘æ£€æŸ¥å‘½ä»¤

```bash
# 1. ç¼–è¯‘è‡ªä¸¾ç¼–è¯‘å™¨
cd /media/winger/_dde_home/winger/uya/compiler-mini/uya-src
./compile.sh -e --c99

# 2. è¿è¡Œæµ‹è¯•
cd /media/winger/_dde_home/winger/uya/compiler-mini
./tests/run_programs.sh --uya

# 3. å¯¹æ¯” C ç‰ˆæœ¬å’Œè‡ªä¸¾ç‰ˆæœ¬çš„è¾“å‡º
./build/compiler-mini tests/programs/<test>.uya -o /tmp/test_c.c --c99
./build/uya-compiler/compiler tests/programs/<test>.uya -o /tmp/test_uya.c
diff /tmp/test_c.c /tmp/test_uya.c
```

---

## ğŸ”„ ç¿»è¯‘å·¥ä½œæµç¨‹

### æ­¥éª¤ 1ï¼šé€‰æ‹©è¦ç¿»è¯‘çš„æ–‡ä»¶

1. ä»æ–‡ä»¶åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶ï¼ˆå»ºè®®æŒ‰ä¼˜å…ˆçº§é¡ºåºï¼‰
2. ç¡®è®¤è¯¥æ–‡ä»¶ä¸åœ¨ `codegen/c99/` ç›®å½•ä¸‹ï¼ˆC99 ä»£ç ä¸éœ€è¦ç¿»è¯‘ï¼‰

### æ­¥éª¤ 2ï¼šé˜…è¯» C ç‰ˆæœ¬ä»£ç 

1. æ‰“å¼€ C ç‰ˆæœ¬æ–‡ä»¶ï¼ˆå¦‚ `src/checker.c`ï¼‰
2. ç†è§£ä»£ç é€»è¾‘å’ŒåŠŸèƒ½
3. è¯†åˆ«å…³é”®å‡½æ•°å’Œæ•°æ®ç»“æ„
4. ç†è§£é”™è¯¯å¤„ç†å’Œæ”¾å®½æ£€æŸ¥çš„é€»è¾‘

### æ­¥éª¤ 3ï¼šé˜…è¯»è¯­æ³•è§„èŒƒ

1. æ‰“å¼€ `spec/UYA_MINI_SPEC.md`
2. é˜…è¯»ç›¸å…³çš„è¯­æ³•è§„åˆ™å’Œç±»å‹ç³»ç»Ÿè§„åˆ™
3. ç†è§£ç±»å‹æ¨æ–­è§„åˆ™å’Œç±»å‹è½¬æ¢è§„åˆ™
4. ç¡®è®¤ä»£ç å®ç°æ˜¯å¦ç¬¦åˆè§„èŒƒ

### æ­¥éª¤ 4ï¼šå¯¹æ¯”ç°æœ‰è‡ªä¸¾ç‰ˆæœ¬

1. æ‰“å¼€å¯¹åº”çš„è‡ªä¸¾ç‰ˆæœ¬æ–‡ä»¶ï¼ˆå¦‚ `uya-src/checker.uya`ï¼‰
2. å¯¹æ¯” C ç‰ˆæœ¬å’Œè‡ªä¸¾ç‰ˆæœ¬çš„å·®å¼‚
3. è¯†åˆ«éœ€è¦ä¿®å¤çš„é—®é¢˜
4. è®°å½•å·®å¼‚ç‚¹

### æ­¥éª¤ 5ï¼šç¿»è¯‘/ä¿®å¤ä»£ç 

1. **æŒ‰ç…§ C ç‰ˆæœ¬çš„é€»è¾‘é‡æ–°ç¿»è¯‘æˆ–ä¿®å¤**ï¼ˆä¸è¦è‡ªå·±å‘æŒ¥ï¼‰
2. **æ³¨æ„ç±»å‹ç³»ç»Ÿå·®å¼‚**ï¼š
   - C ç‰ˆæœ¬ä½¿ç”¨ `union`ï¼ŒUya ç‰ˆæœ¬ä½¿ç”¨ç»“æ„ä½“åŒ…å«æ‰€æœ‰å­—æ®µ
     - C: `type.data.array.element_type`
     - Uya: `type.element_type`
   - C ç‰ˆæœ¬ä½¿ç”¨ `->` è®¿é—®æŒ‡é’ˆæˆå‘˜ï¼ŒUya ç‰ˆæœ¬ä½¿ç”¨ `.` è®¿é—®
     - C: `node->data.var_decl.name`
     - Uya: `node.var_decl_name`
   - C ç‰ˆæœ¬ä½¿ç”¨ `*` è§£å¼•ç”¨ï¼ŒUya ç‰ˆæœ¬ç›´æ¥è®¿é—®
     - C: `*array_type.data.array.element_type`
     - Uya: `array_type.element_type[0]`
   - C ç‰ˆæœ¬ä½¿ç”¨ `const char *`ï¼ŒUya ç‰ˆæœ¬ä½¿ç”¨ `&byte`
     - C: `const char *name`
     - Uya: `name: &byte`
3. **å¤„ç†æŒ‡é’ˆè¿ç®—**ï¼ˆâš ï¸ é‡è¦ï¼‰ï¼š
   - **Uya ä¸æ”¯æŒæŒ‡é’ˆè¿ç®—**ï¼Œå¿…é¡»è½¬æ¢ä¸ºæ•°ç»„è®¿é—®
   - C: `ptr + i` â†’ Uya: `&ptr[i]`
   - C: `*(ptr + i)` â†’ Uya: `ptr[i]`
   - C: `ptr++` â†’ Uya: éœ€è¦é‡æ„ä¸ºæ•°ç»„è®¿é—®æˆ–ä½¿ç”¨ç´¢å¼•å˜é‡
   - æ‰€æœ‰æŒ‡é’ˆè¿ç®—éƒ½å¿…é¡»è½¬æ¢ä¸ºæ•°ç»„è®¿é—®å½¢å¼
4. **å¤„ç†å‡½æ•°å®šä¹‰é¡ºåº**ï¼ˆâš ï¸ é‡è¦ï¼‰ï¼š
   - **Uya ä¸æ”¯æŒå‡½æ•°å‰å‘å£°æ˜**ï¼Œå‡½æ•°å¿…é¡»åœ¨ä½¿ç”¨å‰å®šä¹‰
   - é‡æ–°ç»„ç»‡å‡½æ•°é¡ºåºï¼Œå°†å‡½æ•°å®šä¹‰æ”¾åœ¨ä½¿ç”¨ä¹‹å‰
   - å¯¹äºéœ€è¦ç›¸äº’è°ƒç”¨çš„å‡½æ•°ï¼Œä½¿ç”¨å‡½æ•°è¡¨æœºåˆ¶ï¼ˆå¦‚ç±»å‹æ£€æŸ¥å™¨çš„ä¸¤éæ£€æŸ¥ï¼‰
5. **ä¿æŒå‡½æ•°ç­¾åä¸€è‡´**ï¼šå‚æ•°ç±»å‹ã€è¿”å›å€¼ç±»å‹å¿…é¡»å®Œå…¨ä¸€è‡´
6. **ä¿æŒé”™è¯¯å¤„ç†é€»è¾‘ä¸€è‡´**ï¼šé”™è¯¯æ£€æŸ¥ã€é”™è¯¯æŠ¥å‘Šã€æ”¾å®½æ£€æŸ¥çš„é€»è¾‘å¿…é¡»ä¸€è‡´
7. **ä¿æŒæ”¾å®½æ£€æŸ¥çš„é€»è¾‘ä¸€è‡´**ï¼šæ‰€æœ‰æ”¾å®½æ£€æŸ¥çš„æ¡ä»¶å’Œè¿”å›å€¼å¿…é¡»ä¸€è‡´

### æ­¥éª¤ 6ï¼šç¼–è¯‘å’Œæµ‹è¯•

1. é‡æ–°ç¼–è¯‘è‡ªä¸¾ç¼–è¯‘å™¨ï¼š
   ```bash
   cd /media/winger/_dde_home/winger/uya/compiler-mini/uya-src
   ./compile.sh -e --c99
   ```

2. è¿è¡Œæµ‹è¯•ï¼š
   ```bash
   cd /media/winger/_dde_home/winger/uya/compiler-mini
   ./tests/run_programs.sh --uya
   ```

3. æ£€æŸ¥æµ‹è¯•ç»“æœï¼š
   - å¦‚æœæµ‹è¯•é€šè¿‡ï¼Œæ ‡è®°ä¸ºå®Œæˆ
   - å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œç»§ç»­è°ƒè¯•

### æ­¥éª¤ 7ï¼šéªŒè¯ä¿®å¤

1. å¯¹æ¯” C ç‰ˆæœ¬ç¼–è¯‘å™¨çš„è¡Œä¸º
2. ç¡®ä¿è‡ªä¸¾ç¼–è¯‘å™¨è¡Œä¸ºä¸€è‡´
3. æ›´æ–° TODO æ–‡ä»¶ï¼Œæ ‡è®°å®ŒæˆçŠ¶æ€

---

## ğŸ“ ç¿»è¯‘æ£€æŸ¥æ¸…å•

### å¯¹äºæ¯ä¸ªå‡½æ•°ï¼Œæ£€æŸ¥ï¼š

#### å‡½æ•°ç­¾å
- [ ] å‡½æ•°åæ˜¯å¦ä¸€è‡´
- [ ] å‚æ•°ç±»å‹æ˜¯å¦ä¸€è‡´
- [ ] å‚æ•°æ•°é‡æ˜¯å¦ä¸€è‡´
- [ ] è¿”å›å€¼ç±»å‹æ˜¯å¦ä¸€è‡´

#### é€»è¾‘æµç¨‹
- [ ] ä¸»è¦é€»è¾‘æµç¨‹æ˜¯å¦ä¸€è‡´
- [ ] æ¡ä»¶åˆ¤æ–­æ˜¯å¦ä¸€è‡´
- [ ] å¾ªç¯é€»è¾‘æ˜¯å¦ä¸€è‡´
- [ ] é€’å½’è°ƒç”¨æ˜¯å¦ä¸€è‡´

#### é”™è¯¯å¤„ç†
- [ ] é”™è¯¯æ£€æŸ¥æ˜¯å¦ä¸€è‡´
- [ ] é”™è¯¯æŠ¥å‘Šæ˜¯å¦ä¸€è‡´
- [ ] æ”¾å®½æ£€æŸ¥çš„é€»è¾‘æ˜¯å¦ä¸€è‡´
- [ ] é”™è¯¯è¿”å›æ˜¯å¦ä¸€è‡´

#### ç±»å‹ç³»ç»Ÿ
- [ ] ç±»å‹æ¨æ–­é€»è¾‘æ˜¯å¦ä¸€è‡´
- [ ] ç±»å‹æ¯”è¾ƒé€»è¾‘æ˜¯å¦ä¸€è‡´
- [ ] ç±»å‹è½¬æ¢é€»è¾‘æ˜¯å¦ä¸€è‡´
- [ ] ç±»å‹åˆ›å»ºé€»è¾‘æ˜¯å¦ä¸€è‡´

#### æ•°æ®ç»“æ„è®¿é—®
- [ ] ç»“æ„ä½“å­—æ®µè®¿é—®æ˜¯å¦æ­£ç¡®ï¼ˆC ç‰ˆæœ¬ `->` vs Uya ç‰ˆæœ¬ `.`ï¼‰
- [ ] æ•°ç»„è®¿é—®æ˜¯å¦æ­£ç¡®
- [ ] æŒ‡é’ˆè§£å¼•ç”¨æ˜¯å¦æ­£ç¡®ï¼ˆC ç‰ˆæœ¬ `*` vs Uya ç‰ˆæœ¬ç›´æ¥è®¿é—®ï¼‰
- [ ] union è®¿é—®æ˜¯å¦æ­£ç¡®ï¼ˆC ç‰ˆæœ¬ union vs Uya ç‰ˆæœ¬ç»“æ„ä½“å­—æ®µï¼‰
- [ ] **æŒ‡é’ˆè¿ç®—æ˜¯å¦å·²è½¬æ¢ä¸ºæ•°ç»„è®¿é—®**ï¼ˆC ç‰ˆæœ¬ `ptr + i` â†’ Uya ç‰ˆæœ¬ `&ptr[i]`ï¼‰
- [ ] **å‡½æ•°å®šä¹‰é¡ºåºæ˜¯å¦æ­£ç¡®**ï¼ˆUya ä¸æ”¯æŒå‰å‘å£°æ˜ï¼Œå‡½æ•°å¿…é¡»åœ¨ä½¿ç”¨å‰å®šä¹‰ï¼‰

#### ç¬¦å·è¡¨å’Œå‡½æ•°è¡¨
- [ ] ç¬¦å·è¡¨æŸ¥æ‰¾æ˜¯å¦ä¸€è‡´
- [ ] ç¬¦å·è¡¨æ’å…¥æ˜¯å¦ä¸€è‡´
- [ ] å‡½æ•°è¡¨æŸ¥æ‰¾æ˜¯å¦ä¸€è‡´
- [ ] å‡½æ•°è¡¨æ’å…¥æ˜¯å¦ä¸€è‡´

#### ä½œç”¨åŸŸç®¡ç†
- [ ] è¿›å…¥ä½œç”¨åŸŸé€»è¾‘æ˜¯å¦ä¸€è‡´
- [ ] é€€å‡ºä½œç”¨åŸŸé€»è¾‘æ˜¯å¦ä¸€è‡´
- [ ] ä½œç”¨åŸŸçº§åˆ«ç®¡ç†æ˜¯å¦ä¸€è‡´

---

## ğŸ¯ ä¼˜å…ˆçº§è¯´æ˜

- **P0ï¼ˆæœ€é«˜ï¼‰**ï¼šæ ¸å¿ƒæ¨¡å—ï¼Œå¿…é¡»ä¼˜å…ˆç¿»è¯‘ï¼Œå½±å“ç¼–è¯‘å™¨çš„åŸºæœ¬åŠŸèƒ½
- **P1ï¼ˆé«˜ï¼‰**ï¼šé‡è¦æ¨¡å—ï¼Œå½±å“ä»£ç ç”ŸæˆåŠŸèƒ½
- **P2ï¼ˆä¸­ï¼‰**ï¼šè¾…åŠ©æ¨¡å—ï¼Œå½±å“è¾…åŠ©åŠŸèƒ½

---

## ğŸ“Š ç¿»è¯‘è¿›åº¦è·Ÿè¸ª

### æ ¸å¿ƒæ¨¡å—ï¼ˆP0ï¼‰

- [ ] `checker.c` â†’ `checker.uya` - âš ï¸ éƒ¨åˆ†å®Œæˆï¼Œéœ€è¦é‡æ–°æ£€æŸ¥
- [ ] `parser.c` â†’ `parser.uya` - â³ å¾…ç¿»è¯‘
- [ ] `lexer.c` â†’ `lexer.uya` - â³ å¾…ç¿»è¯‘
- [ ] `ast.c` â†’ `ast.uya` - â³ å¾…ç¿»è¯‘
- [ ] `arena.c` â†’ `arena.uya` - â³ å¾…ç¿»è¯‘
- [ ] `main.c` â†’ `main.uya` - â³ å¾…ç¿»è¯‘

### LLVM C API ä»£ç ç”Ÿæˆæ¨¡å—ï¼ˆP1ï¼‰

- [ ] `codegen/llvm_capi/main.c` â†’ `codegen/llvm_capi/main.uya` - â³ å¾…ç¿»è¯‘
- [ ] `codegen/llvm_capi/init.c` â†’ `codegen/llvm_capi/init.uya` - â³ å¾…ç¿»è¯‘
- [ ] `codegen/llvm_capi/function.c` â†’ `codegen/llvm_capi/function.uya` - â³ å¾…ç¿»è¯‘
- [ ] `codegen/llvm_capi/expr.c` â†’ `codegen/llvm_capi/expr.uya` - â³ å¾…ç¿»è¯‘
- [ ] `codegen/llvm_capi/stmt.c` â†’ `codegen/llvm_capi/stmt.uya` - â³ å¾…ç¿»è¯‘
- [ ] `codegen/llvm_capi/types.c` â†’ `codegen/llvm_capi/types.uya` - â³ å¾…ç¿»è¯‘
- [ ] `codegen/llvm_capi/structs.c` â†’ `codegen/llvm_capi/structs.uya` - â³ å¾…ç¿»è¯‘
- [ ] `codegen/llvm_capi/enums.c` â†’ `codegen/llvm_capi/enums.uya` - â³ å¾…ç¿»è¯‘
- [ ] `codegen/llvm_capi/global.c` â†’ `codegen/llvm_capi/global.uya` - â³ å¾…ç¿»è¯‘
- [ ] `codegen/llvm_capi/vars.c` â†’ `codegen/llvm_capi/vars.uya` - â³ å¾…ç¿»è¯‘
- [ ] `codegen/llvm_capi/funcs.c` â†’ `codegen/llvm_capi/funcs.uya` - â³ å¾…ç¿»è¯‘
- [ ] `codegen/llvm_capi/utils.c` â†’ `codegen/llvm_capi/utils.uya` - â³ å¾…ç¿»è¯‘

### è¾…åŠ©æ¨¡å—ï¼ˆP2ï¼‰

- [ ] `str_utils.c` â†’ `str_utils.uya`ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ - â³ å¾…ç¿»è¯‘

---

## ğŸ” å¸¸è§ç¿»è¯‘é—®é¢˜

### 1. ç±»å‹ç³»ç»Ÿå·®å¼‚

**é—®é¢˜ï¼š** C ç‰ˆæœ¬ä½¿ç”¨ `union`ï¼ŒUya ç‰ˆæœ¬ä½¿ç”¨ç»“æ„ä½“åŒ…å«æ‰€æœ‰å­—æ®µ

**è§£å†³æ–¹æ¡ˆï¼š**
- C ç‰ˆæœ¬ï¼š`type.data.array.element_type`
- Uya ç‰ˆæœ¬ï¼š`type.element_type`ï¼ˆç›´æ¥è®¿é—®å­—æ®µï¼‰

### 2. æŒ‡é’ˆè®¿é—®å·®å¼‚

**é—®é¢˜ï¼š** C ç‰ˆæœ¬ä½¿ç”¨ `->` è®¿é—®æŒ‡é’ˆæˆå‘˜ï¼ŒUya ç‰ˆæœ¬ä½¿ç”¨ `.` è®¿é—®

**è§£å†³æ–¹æ¡ˆï¼š**
- C ç‰ˆæœ¬ï¼š`node->data.var_decl.name`
- Uya ç‰ˆæœ¬ï¼š`node.var_decl_name`ï¼ˆç›´æ¥è®¿é—®å­—æ®µï¼‰

### 3. æŒ‡é’ˆè§£å¼•ç”¨å·®å¼‚

**é—®é¢˜ï¼š** C ç‰ˆæœ¬ä½¿ç”¨ `*` è§£å¼•ç”¨ï¼ŒUya ç‰ˆæœ¬ç›´æ¥è®¿é—®

**è§£å†³æ–¹æ¡ˆï¼š**
- C ç‰ˆæœ¬ï¼š`*array_type.data.array.element_type`
- Uya ç‰ˆæœ¬ï¼š`array_type.element_type[0]`ï¼ˆæ•°ç»„è®¿é—®ï¼‰

### 4. æŒ‡é’ˆè¿ç®—å·®å¼‚ï¼ˆé‡è¦ï¼‰

**é—®é¢˜ï¼š** Uya Mini **ä¸æ”¯æŒæŒ‡é’ˆè¿ç®—**ï¼ˆå¦‚ `ptr + i`ã€`ptr++` ç­‰ï¼‰ï¼Œå¿…é¡»è½¬æ¢ä¸ºæ•°ç»„è®¿é—®å½¢å¼

**è§£å†³æ–¹æ¡ˆï¼š**
- C ç‰ˆæœ¬æŒ‡é’ˆè¿ç®—ï¼š`ptr + i` â†’ Uya ç‰ˆæœ¬ï¼š`&ptr[i]`
- C ç‰ˆæœ¬ï¼š`*(ptr + i)` â†’ Uya ç‰ˆæœ¬ï¼š`ptr[i]`
- C ç‰ˆæœ¬ï¼š`ptr++` â†’ Uya ç‰ˆæœ¬ï¼šéœ€è¦é‡æ„ä¸ºæ•°ç»„è®¿é—®æˆ–ä½¿ç”¨ç´¢å¼•å˜é‡
- C ç‰ˆæœ¬ï¼š`ptr[i]` â†’ Uya ç‰ˆæœ¬ï¼š`ptr[i]`ï¼ˆä¿æŒä¸å˜ï¼‰

**ç¤ºä¾‹ï¼š**
```c
// C ç‰ˆæœ¬
Type *element_type_ptr = (Type *)arena_alloc(...);
element_type_ptr[0] = element_type;  // æˆ– *element_type_ptr = element_type
```

```uya
// Uya ç‰ˆæœ¬
const element_type_ptr: &Type = arena_alloc(...) as &Type;
element_type_ptr[0] = element_type;  // å¿…é¡»ä½¿ç”¨æ•°ç»„è®¿é—®
```

**æ³¨æ„ï¼š**
- æ‰€æœ‰æŒ‡é’ˆè¿ç®—éƒ½å¿…é¡»è½¬æ¢ä¸ºæ•°ç»„è®¿é—®
- æŒ‡é’ˆå¢é‡/å‡é‡æ“ä½œéœ€è¦é‡æ„ä¸ºç´¢å¼•å˜é‡
- æŒ‡é’ˆæ¯”è¾ƒï¼ˆå¦‚ `ptr1 < ptr2`ï¼‰éœ€è¦è½¬æ¢ä¸ºç´¢å¼•æ¯”è¾ƒ

### 5. å‡½æ•°å‰å‘å£°æ˜é™åˆ¶ï¼ˆé‡è¦ï¼‰

**é—®é¢˜ï¼š** Uya Mini **ä¸æ”¯æŒæ™®é€šå‡½æ•°çš„å‰å‘å£°æ˜**ï¼Œå‡½æ•°å¿…é¡»åœ¨ä½¿ç”¨å‰å®šä¹‰

**è§£å†³æ–¹æ¡ˆï¼š**
- **é‡æ–°ç»„ç»‡å‡½æ•°é¡ºåº**ï¼šå°†å‡½æ•°å®šä¹‰æ”¾åœ¨ä½¿ç”¨ä¹‹å‰
- **ä½¿ç”¨å‡½æ•°è¡¨**ï¼šå¯¹äºéœ€è¦ç›¸äº’è°ƒç”¨çš„å‡½æ•°ï¼Œä½¿ç”¨å‡½æ•°è¡¨æœºåˆ¶ï¼ˆå¦‚ `checker_register_fn_decl`ï¼‰
- **ä¸¤éæ£€æŸ¥**ï¼šç¬¬ä¸€éæ³¨å†Œå‡½æ•°ç­¾åï¼Œç¬¬äºŒéæ£€æŸ¥å‡½æ•°ä½“ï¼ˆå¦‚ç±»å‹æ£€æŸ¥å™¨çš„å®ç°ï¼‰

**ç¤ºä¾‹ï¼š**
```c
// C ç‰ˆæœ¬ï¼šå¯ä»¥ä½¿ç”¨å‰å‘å£°æ˜
static void function_b();
static void function_a() {
    function_b();  // è°ƒç”¨åå®šä¹‰çš„å‡½æ•°
}
static void function_b() {
    // ...
}
```

```uya
// Uya ç‰ˆæœ¬ï¼šå¿…é¡»é‡æ–°ç»„ç»‡é¡ºåº
fn function_b() void {
    // ...
}

fn function_a() void {
    function_b();  // ç°åœ¨ function_b å·²ç»å®šä¹‰
}
```

**å¯¹äºç±»å‹æ£€æŸ¥å™¨ç­‰éœ€è¦ç›¸äº’è°ƒç”¨çš„å‡½æ•°ï¼š**
- ä½¿ç”¨ä¸¤éæ£€æŸ¥æœºåˆ¶ï¼šç¬¬ä¸€éæ³¨å†Œå‡½æ•°ç­¾åï¼Œç¬¬äºŒéæ£€æŸ¥å‡½æ•°ä½“
- å‚è€ƒ `checker_check` å‡½æ•°çš„å®ç°æ–¹å¼

### 6. å­—ç¬¦ä¸²å¤„ç†å·®å¼‚

**é—®é¢˜ï¼š** C ç‰ˆæœ¬ä½¿ç”¨ `const char *`ï¼ŒUya ç‰ˆæœ¬ä½¿ç”¨ `&byte`

**è§£å†³æ–¹æ¡ˆï¼š**
- C ç‰ˆæœ¬ï¼š`const char *name`
- Uya ç‰ˆæœ¬ï¼š`name: &byte`

### 7. é”™è¯¯å¤„ç†å·®å¼‚

**é—®é¢˜ï¼š** C ç‰ˆæœ¬å¯èƒ½ä½¿ç”¨ä¸åŒçš„é”™è¯¯å¤„ç†æ–¹å¼

**è§£å†³æ–¹æ¡ˆï¼š**
- ä¿æŒé”™è¯¯å¤„ç†é€»è¾‘å®Œå…¨ä¸€è‡´
- ä¿æŒæ”¾å®½æ£€æŸ¥çš„é€»è¾‘å®Œå…¨ä¸€è‡´

---

## ğŸ“Œ é‡è¦æ–‡ä»¶è·¯å¾„

### æºä»£ç æ–‡ä»¶
- **C ç‰ˆæœ¬æºä»£ç ï¼š** `compiler-mini/src/`
- **è‡ªä¸¾ç‰ˆæœ¬æºä»£ç ï¼š** `compiler-mini/uya-src/`
- **è¯­æ³•è§„èŒƒï¼š** `compiler-mini/spec/UYA_MINI_SPEC.md`

### æ„å»ºå’Œæµ‹è¯•
- **è‡ªä¸¾ç¼–è¯‘å™¨æ„å»ºè„šæœ¬ï¼š** `compiler-mini/uya-src/compile.sh`
- **æµ‹è¯•è„šæœ¬ï¼š** `compiler-mini/tests/run_programs.sh`
- **æµ‹è¯•ç”¨ä¾‹ç›®å½•ï¼š** `compiler-mini/tests/programs/`
- **è‡ªä¸¾ç¼–è¯‘å™¨å¯æ‰§è¡Œæ–‡ä»¶ï¼š** `compiler-mini/build/uya-compiler/compiler`

### å·¥ä½œç›®å½•
- **é¡¹ç›®æ ¹ç›®å½•ï¼š** `/media/winger/_dde_home/winger/uya/compiler-mini`
- **è‡ªä¸¾ç¼–è¯‘å™¨æºä»£ç ï¼š** `/media/winger/_dde_home/winger/uya/compiler-mini/uya-src`

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å§‹ç»ˆå‚è€ƒè¯­æ³•è§„èŒƒï¼š** åœ¨ç¿»è¯‘ä»»ä½•ä»£ç ä¹‹å‰ï¼Œå¿…é¡»å…ˆç¡®è®¤è¯­æ³•è§„èŒƒä¸­çš„è§„åˆ™
2. **ä¿æŒä¸ C ç‰ˆæœ¬ä¸€è‡´ï¼š** æ‰€æœ‰é€»è¾‘éƒ½åº”è¯¥ä¸ C ç‰ˆæœ¬ä¸€è‡´
3. **æµ‹è¯•é©±åŠ¨ç¿»è¯‘ï¼š** æ¯æ¬¡ç¿»è¯‘åéƒ½è¦è¿è¡Œæµ‹è¯•éªŒè¯
4. **è®°å½•ç¿»è¯‘å†…å®¹ï¼š** åœ¨ä»£ç ä¸­æ·»åŠ æ³¨é‡Šè¯´æ˜ç¿»è¯‘çš„è¦ç‚¹
5. **é¿å…è¿‡åº¦ä¿®æ”¹ï¼š** åªç¿»è¯‘å¿…è¦çš„éƒ¨åˆ†ï¼Œä¸è¦è¿‡åº¦ä¿®æ”¹
6. **âš ï¸ æŒ‡é’ˆè¿ç®—é™åˆ¶ï¼š** Uya Mini ä¸æ”¯æŒæŒ‡é’ˆè¿ç®—ï¼Œæ‰€æœ‰ `ptr + i` å¿…é¡»è½¬æ¢ä¸º `&ptr[i]`
7. **âš ï¸ å‡½æ•°å‰å‘å£°æ˜é™åˆ¶ï¼š** Uya Mini ä¸æ”¯æŒå‡½æ•°å‰å‘å£°æ˜ï¼Œå¿…é¡»é‡æ–°ç»„ç»‡å‡½æ•°é¡ºåºæˆ–ä½¿ç”¨å‡½æ•°è¡¨æœºåˆ¶

---

## ğŸ“ æ›´æ–°æ—¥å¿—

**2024-01-XXï¼š** åˆ›å»ºåˆå§‹ç¿»è¯‘ TODO æ–‡æ¡£
- åˆ—å‡ºäº†æ‰€æœ‰éœ€è¦ç¿»è¯‘çš„æ–‡ä»¶
- æä¾›äº†è¯¦ç»†çš„å·¥ä½œæµç¨‹å’Œæ£€æŸ¥æ¸…å•
- è®°å½•äº†å¸¸è§ç¿»è¯‘é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

---

**æç¤ºï¼š** æ¯æ¬¡ç¿»è¯‘å®Œæˆåï¼Œæ›´æ–°æœ¬æ–‡æ¡£çš„"ç¿»è¯‘è¿›åº¦è·Ÿè¸ª"éƒ¨åˆ†ï¼Œè®°å½•å®ŒæˆçŠ¶æ€å’Œé‡åˆ°çš„é—®é¢˜ã€‚

