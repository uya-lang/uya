# 阶段3：实现 AST 数据结构

## 3.1 AST 节点类型定义

- [x] 创建 `src/ast.h`
  - [x] 定义 ASTNodeType 枚举（仅包含最小子集需要的节点类型）
    - [x] 程序节点、函数声明、结构体声明、变量声明
    - [x] 表达式节点：二元运算、一元运算、标识符、数字、布尔、函数调用
    - [x] 结构体相关：结构体字面量、字段访问
    - [x] 语句节点：return、if、while、赋值、表达式语句、代码块
  - [x] 定义基础 ASTNode 结构体
  - [x] 定义各种 AST 节点数据结构的 union
  - [x] 添加中文注释说明

## 3.2 AST 节点创建函数（TDD）

### TDD Red: 编写测试

- [x] 创建测试文件
  - [x] 测试各种节点类型的创建
  - [x] 运行测试确保失败（然后实现功能使其通过）

### TDD Green: 实现功能

- [x] 创建 `src/ast.c`
  - [x] 实现 `ast_new_node()` - 创建 AST 节点（使用 Arena 分配）
  - [x] 添加中文注释说明
  - [x] 运行测试确保通过
  - [x] **验证函数 < 200 行，文件 < 1500 行**

### TDD Refactor: 优化

- [x] 代码审查和重构
- [x] 运行测试确保通过

**注意**：`ast_free()` 函数不需要实现，因为使用 Arena 分配器，所有内存由 Arena 统一管理。

