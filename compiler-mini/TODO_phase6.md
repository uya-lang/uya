# 阶段6：实现类型检查器（Checker）

## 6.1 Checker 结构定义

- [ ] 创建 `src/checker.h`
  - [ ] 定义 TypeChecker 结构体
  - [ ] 定义符号表结构（使用固定大小哈希表）
  - [ ] 定义类型结构（基础类型、结构体类型）
  - [ ] 添加中文注释说明

## 6.2 Checker 核心实现（TDD，可以分部实现）

### TDD Red: 编写测试

- [ ] 创建测试文件
  - [ ] 测试变量类型检查
  - [ ] 测试函数调用类型检查
  - [ ] 测试结构体类型检查
  - [ ] 运行测试确保失败

### TDD Green: 实现功能（可以分多次会话）

- [ ] 创建 `src/checker.c`
  - [ ] 实现 `checker_new()` - 创建 TypeChecker
  - [ ] 实现 `checker_check()` - 类型检查主函数
  - [ ] 实现变量类型检查（完整实现，不能简化）
  - [ ] 实现函数调用类型检查（参数匹配、返回值类型，完整实现）
  - [ ] 实现结构体类型检查（完整实现，不能简化）
    - [ ] 结构体定义检查
    - [ ] 字段访问检查
    - [ ] 结构体字面量检查
    - [ ] 结构体比较检查
  - [ ] 实现运算符类型检查（完整实现）
  - [ ] 实现符号表（固定大小哈希表，开放寻址，完整实现）
  - [ ] 添加中文注释说明
  - [ ] 运行测试确保通过
  - [ ] **验证函数 < 200 行，文件 < 1500 行**

### TDD Refactor: 优化

- [ ] 代码审查和重构
- [ ] 运行测试确保通过

## 6.3 Checker 测试

- [ ] 创建测试用例验证 Checker 功能
- [ ] 测试类型匹配检查
- [ ] 测试函数调用检查
- [ ] 测试结构体类型检查

