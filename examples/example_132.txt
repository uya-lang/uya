
### 18.6 编译期验证

1. **常量偏移**：编译期直接验证
2. **变量偏移**：需要程序员提供边界证明
3. **指针有效性**：编译器追踪指针来源和生命周期

### 18.7 错误处理

- 指针算术无法证明安全 → 编译错误
- 提供清晰的错误信息和修复建议
- 支持 `!&T` 错误联合类型返回

---

## 19 测试单元

——单页纸，零新关键字，独立 `./uyac test` 入口——

------------------------------------------------
### 19.1 设计目标
------------------------------------------------
- **唯一入口**：`./uyac test` 专用于运行测试；  
- **零副作用**：不改动用户 `main`，不注入测试 runner；  
- **行为一致**：  
  - 扫描**所有 `.uya`**，执行 `test "..." { }`；  
  - 成功静默，失败打印详情并返回码 `1`；  
  - 支持 `return error.TestFailed;` 标记失败；  
- **单页纸**：语法、命令、实现要点一页放完。

------------------------------------------------
### 19.2 语法（复用已有符号）

> **BNF 语法规范**：详见 [grammar.md](./grammar.md#41-测试单元)

