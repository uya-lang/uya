struct File {
    fd: i32
}

fn drop(self: File) void {
    if self.fd >= 0 {
        close(self.fd);
    }
}

fn example() void {
    const file1: File = File{ fd: open("test.txt", 0) };
    const file2: File = file1;  // ✅ 移动：file1 的所有权转移给 file2
    
    // ❌ 编译错误：file1 已被移动，不能再次使用
    // const fd: i32 = file1.fd;  // 错误：使用已移动的变量 'file1'
    
    // ✅ 编译通过：file2 拥有所有权
    const fd: i32 = file2.fd;
    
    // file2 离开作用域时自动调用 drop，关闭文件
    // file1 不会调用 drop（已移动）
}
